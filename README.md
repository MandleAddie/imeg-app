# ImegApp

This project was generated with [Angular CLI](https://github.com/angular/angular-cli) version 1.3.1. (See commit messages for current version information)

### Quick Links   [Angular](https://angular.io) | [Angular Material](https://material.angular.io)

## Project Overview

The project is broken up into modules, each module loosely representing a 'page' in the context of a traditional website built with ModX. 
Each module contains some combination of Components, Services, Modules,  and data models. 

Most application modules in this project include a RoutingModule. These handle adding the modules routes to the applications routing configuration. 
Child routes can be configured here as well. However, no child routing is configured at this time. NOTE: Pay attention to the order of module imports. 
Each routing module is imported to its parent, which is imported into the root AppModule. Incorrect order could lead to routes not found. 


### Components
See [Angular Docs](https://angular.io/docs) for more on components

### Services
In the context of this project, most services exist to handle fetching content from the ModX REST API

### Data models
Custom classes matching the shape of data we fetch from the server. Allows us to cast JSON responses from the server to an object of the correct type. 
Due to changes in Angular classes that handle http requests, some of these models may need to be modified in the future. 
Some have already been updated at the time of this writing. 

## Modules

### AppModule
This is the root module. Declares the root component (AppComponent). Imports top level modules used throughout the app (ex. HttpClientModule, Angular Material modules).

#### AppComponent
Root Component. Template contains a [Sidenav](https://material.angular.io/components/sidenav/overview) with a nested [RouterOutlet](https://angular.io/api/router/RouterOutlet).
This is the only router outlet in the project, all routed views are displayed here. 

### CoreModule
Module for some (not all) core functionality used across the application. Started moving away from this structure, some functionality is refactored and moved to other locations, some 
still remains in the core module at this time. 

#### ContentService
Core service for fetching content from the ModX Api.

#### Multiple classes - none match file name since no inner classes (content-model.ts)
A few base data models

#### Globals (globals.ts)
Some global variables

#### PageNotFoundComponent 
A fallback component to display for unknown/undefined routes.

### HomeModule
Declares HomeComponent and ImegCarouselComponent. 

#### HomeComponent
'Homepage' content. Carousel component is nested here. 

### PageModule
Declares PageComponent.

#### PageComponent
Generic component for a 'Page', in the context of a typical Mandle/ModX project. Updates in the CMS should automatically default to this component, unless 
another route is explicitly defined. 

### TagModule
Declares TagComponent

#### TagComponent
'Services Pages' and 'Markets Pages' use this component. A grid style navigational page. Generates dynamically based on 'tag' data set in CMS variables. 
Tiles route to a ProjectListComponent (see below).

### ProjectModule
'Project Pages'. Project list data is fetched from the server based on the tag variables setup in ModX. 

#### ProjectListComponent
Similar to a TagComponent, nested 1 level. Displays a grid style list of project tiles. Generates dynamically based on selected tags. Tiles route to the 
ProjectDetailComponent (see below).

#### ProjectDetailComponent 
Displays content for a single project.

### TilesModule
Components nested in the HomeComponent

#### TilesComponent
Displays dynamic tiles on the 'Homepage'. Tile size and styling depends on selected settings in ModX CMS. 

#### SpotlightTileComponent
This is the animated 'Spotlight Carousel' tile on the 'Homepage'. 

### Notes
There are several components in the project that display some form of 'Tiles'. The process evolved somewhat during the course of development, and each area had somewhat
unique requirements. There are variations in how each area was implemented. As well as some duplication across these components. A potential area for optimization. 
Anything shared by these components should probably be abstracted to a base component, and each implementation simplified accordingly.  


## The following was generated by Angular CLI

### Development server

Run `ng serve` for a dev server. Navigate to `http://localhost:4200/`. The app will automatically reload if you change any of the source files.

### Code scaffolding

Run `ng generate component component-name` to generate a new component. You can also use `ng generate directive|pipe|service|class|guard|interface|enum|module`.

### Build

Run `ng build` to build the project. The build artifacts will be stored in the `dist/` directory. Use the `-prod` flag for a production build.

### Running unit tests

Run `ng test` to execute the unit tests via [Karma](https://karma-runner.github.io).

### Running end-to-end tests

Run `ng e2e` to execute the end-to-end tests via [Protractor](http://www.protractortest.org/).
Before running the tests make sure you are serving the app via `ng serve`.

### Further help

To get more help on the Angular CLI use `ng help` or go check out the [Angular CLI README](https://github.com/angular/angular-cli/blob/master/README.md).
